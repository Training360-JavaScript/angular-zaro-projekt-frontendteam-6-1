<div class="container">
  <div class="row">
    <div *ngIf="order$ | async as order" class="col-6 offset-3">
      <h1 *ngIf="order.id === 0" class="h2 text-center mt-5">Create new order</h1>
      <h1 *ngIf="order.id !== 0" class="h2 text-center mt-5">Order details</h1>
      <form #orderForm="ngForm" (ngSubmit)="onUpdate(order)">
        <input [(ngModel)]="order.id" class="form-control" name="id" type="hidden" />

        <div class="row">
          <div class="form-group col-4">
            <label for="customerid">CustomerID</label>
            <input [(ngModel)]="order.customerID" id="customerid" class="form-control form-inline" name="customerID"
              type="number" required pattern="^[0-9]{1,}" />

            <div class="error-message" [hidden]="orderForm.controls['customerID']?.valid">
              Required, numbers only!
            </div>
          </div>
          <div class="form-group col-5">
            <label for="customer">Customer name</label>
            <div *ngIf="customer$ | async as customer" class="mt-2">
              {{ customer.firstName }} {{ customer.lastName }}
            </div>
          </div>

          <div class="form-group col-3">
            <button class="btn-block btn-primary mt-4"><i class="fa fa-pencil"></i> Edit </button>
          </div>
        </div>


        <div class="row">
          <div class="form-group col-4">
            <label for="productid">ProductID</label>
            <input [(ngModel)]="order.productID" id="productid" class="form-control" name="productID" type="number"
              required pattern="^[0-9]{1,}" />
            <div class="error-message" [hidden]="orderForm.controls['productID']?.valid">
              Required, numbers only !
            </div>

          </div>
          <div class="form-group col-5">
            <label for="product">Product name</label>
            <div *ngIf="product$ | async as product" class="mt-2">
              {{ product.name }}
            </div>
          </div>

          <div class="form-group col-3">
            <button class="btn-block btn-primary mt-4"><i class="fa fa-pencil"></i> Edit </button>
          </div>

        </div>

        <div class="form-group">
          <label for="amount">Amount</label>
          <input [(ngModel)]="order.amount" id="amount" class="form-control" name="amount" type="number" required
            pattern="^[1-9][0-9]{0,}" />
          <div class="error-message" [hidden]="orderForm.controls['amount']?.valid">
            Minimum amount:1!
          </div>
        </div>
        <!-- <div class="form-group">
        <label for="status">Status</label>
        <input [(ngModel)]="order.status" class="form-control" name="status" type="text"
        />
      </div> -->

        <!-- <div class="form-group">
        <label for="orderStatus"> Status </label>
        <select [(ngModel)]="order.status" id="orderStatus" name="status" required class="form-control">
          <option value="" selected>Choose status...</option>
          <option value="new">New</option>
          <option value="paid">Paid</option>
          <option value="shipped">Shipped</option>
        </select>
        <div class="error-message" [hidden]="orderForm.controls['status']?.valid">
          Status required!
        </div>
      </div> -->
        <label for=""> Status </label>
        <div class="row">
          <div class="form-check form-check-radio">
            <label class="form-check-label">
              <input [(ngModel)]="order.status" class="form-check-input" type="radio" name="satus" id=""
                value="New">
              New
              <span class="circle">
                <span class="check"></span>
              </span>
            </label>
          </div>

          <div class="form-check form-check-radio">
            <label class="form-check-label">
              <input [(ngModel)]="order.status" class="form-check-input" type="radio" name="status" id=""
                value="paid" checked>
              Paid
              <span class="circle">
                <span class="check"></span>
              </span>
            </label>
          </div>

          <div class="form-check form-check-radio">
            <label class="form-check-label">
              <input [(ngModel)]="order.status" class="form-check-input" type="radio" name="status" id=""
                value="shipped">
              Shipped
              <span class="circle">
                <span class="check"></span>
              </span>
            </label>
          </div>
        </div>

        <div class="btn-group d-flex justify-content-center mt-5">

          <button [routerLink]="['/', 'order']" class="btn btn-secondary btn-block mr-1">
            <i class="fa fa-undo"></i> Cancel
          </button>

          <button *ngIf="order.id === 0" [disabled]="orderForm.invalid" type="submit"
            class="btn btn-success btn-block ml-1">
            <i class="fa fa-save"></i> Create new
          </button>
          <button *ngIf="order.id !== 0" [disabled]="orderForm.invalid" type="submit"
            class="btn btn-success btn-block ml-1">
            <i class="fa fa-save"></i> Save changes
          </button>

        </div>
      </form>
    </div>
  </div>
</div>
